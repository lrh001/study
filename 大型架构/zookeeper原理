zookeeper:
是一个开源的分布式应用程序协调服务

是用来保证数据在集群间的事务一致性

######################################################
zookeeper的角色与特性:

leader:接受所有follwer的提案请求并同意协调发起提案的投票,负责与所有的follower进行内部数据交换

follower: 直接为客户端服务并参与提案的投票,同时与leader进行数据交换

observer: 直接为客户端服务单并不参与提案的投票,同时也与leader进行数据交换

角色的选举:

服务在启动的时候是没有角色的
选举产生一个leader,剩下的都是follower

选举的原则:
 所得的票数超过机器的数量,则成为leader
 如果leader死亡,则重新选举leader
 如果挂掉的机器达到一半,则集群挂掉
 如果follower死亡过多,剩余机器达不到n/2+1,集群也会停止工作
 observer不计算在投票总设备数量里面

#######################################################

zookeeper原理与设计
leader 所有写操作
follower读操作与响应leader提议

我们可以通过添加observer节点的数量来保证服务的读性能

